(this["webpackJsonpproduct-inventry"]=this["webpackJsonpproduct-inventry"]||[]).push([[0],{102:function(e,t,n){},103:function(e,t,n){},119:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(9),i=n.n(r),c=(n(102),n(52)),o=n(15),l=n(55),d=(n(103),n(63)),j=n.n(d),u=n(76),b=n(39),O=n(8),h=n(22),p=n(155),m=n(156),f=n(158),x=n(161),g=n(160),y=n(151),v=n(77),P=n.n(v),N=n(78),S=n.n(N),E=function(e){var t=e.message;return l.b.info(t,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},w=(n(105),n(3)),C=function(){var e=Object(a.useState)({email:"",password:""}),t=Object(h.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(!1),i=Object(h.a)(r,2),c=i[0],o=i[1],l=Object(a.useState)(!1),d=Object(h.a)(l,2),v=d[0],N=d[1],C=function(e){var t=e.target,a=t.name,r=t.value;s(Object(O.a)(Object(O.a)({},n),{},Object(b.a)({},a,r)))},_=function(){var e=Object(u.a)(j.a.mark((function e(t,n){var a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://api.vuetestapi.cobold.xyz/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})});case 2:return a=e.sent,e.next=5,a.json();case 5:s=e.sent,N(!1),s&&s.token?(localStorage.setItem("token",s.token),window.location.assign("/dashboard")):(s.email&&E({message:s.email[0]}),s.password&&E({message:s.password[0]}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(w.jsx)("div",{className:"login-page",children:Object(w.jsxs)("div",{className:"login-form",children:[Object(w.jsx)("h3",{children:"Login"}),Object(w.jsxs)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault();var t=n.email,a=n.password;t?a?(N(!0),_(t,a)):E({message:"Please enter the password .?"}):E({message:"Please enter the email .?"})},children:[Object(w.jsx)(p.a,{id:"outlined-basic",variant:"outlined",label:"Email",type:"email",name:"email",value:n.email,onChange:C,required:!0,style:{marginBottom:"25px",width:"80%"}}),Object(w.jsxs)(y.a,{variant:"outlined",style:{marginBottom:"25px",width:"80%"},children:[Object(w.jsx)(x.a,{htmlFor:"outlined-adornment-password",children:"Password"}),Object(w.jsx)(f.a,{id:"outlined-adornment-password",type:c?"text":"password",name:"password",value:n.password,onChange:C,endAdornment:Object(w.jsx)(g.a,{position:"end",children:Object(w.jsx)(m.a,{"aria-label":"toggle password visibility",onClick:function(){return o(!c)},onMouseDown:function(e){return e.preventDefault()},edge:"end",children:c?Object(w.jsx)(P.a,{}):Object(w.jsx)(S.a,{})})}),labelWidth:70})]}),Object(w.jsx)("div",{children:v?Object(w.jsxs)("button",{type:"submit",className:"btn btn-outline-info login-button",children:[Object(w.jsx)("i",{className:"fa fa-spinner fa-spin",style:{fontSize:"20px",color:"white"}})," ","Loading ..."]}):Object(w.jsx)("button",{type:"submit",className:"btn btn-outline-info login-button",children:"login"})})]})]})})},_=n(79),L=n(80),k=n(87),D=n(86),F=function(e){Object(k.a)(n,e);var t=Object(D.a)(n);function n(){return Object(_.a)(this,n),t.apply(this,arguments)}return Object(L.a)(n,[{key:"render",value:function(){return localStorage.getItem("token")?Object(w.jsx)(o.a,{to:"/dashboard"}):Object(w.jsx)(o.a,{to:"/login"})}}]),n}(a.Component),T=function(e){var t=e.history;return Object(w.jsx)("div",{children:Object(w.jsxs)("header",{children:[Object(w.jsx)("h3",{children:"Welcome Rakesh "}),Object(w.jsx)("div",{children:Object(w.jsx)("button",{type:"button",className:"btn btn-info sign-out-button",onClick:function(){t.push("/login"),localStorage.clear()},children:"Log Out"})})]})})},B=n(82),I=n.n(B),R=n(81),A=n.n(R),z=function(e){var t=e.persons,n=e.getCurrentPerson,s=Object(a.useState)([]),r=Object(h.a)(s,2),i=r[0],c=r[1],o=Object(a.useState)(""),l=Object(h.a)(o,2),d=l[0],j=l[1];Object(a.useEffect)((function(){c(t)}),[t]);return Object(a.useEffect)((function(){if(d){var e=i.filter((function(e){return e.first_name.toLowerCase().indexOf(d.toLowerCase())>-1||e.last_name.toLowerCase().indexOf(d.toLowerCase())>-1}));c(e)}else c(t)}),[d,t]),Object(w.jsx)("div",{className:"product-list",children:Object(w.jsxs)("table",{className:"table",id:"table",children:[Object(w.jsx)("thead",{className:"thead-light",children:Object(w.jsxs)("tr",{children:[Object(w.jsxs)("th",{style:{width:"40%"},children:["Full Name",Object(w.jsx)("span",{children:Object(w.jsx)("input",{className:"form-control d-inline-block",id:"myInput",onChange:function(e){j(e.target.value)},type:"text",placeholder:"Search..",style:{width:"inherit",marginLeft:"10px"}})})]}),Object(w.jsx)("th",{children:"Email"}),Object(w.jsx)("th",{children:"Phone Number"}),Object(w.jsx)("th",{children:"Actions"})]})}),Object(w.jsx)("tbody",{children:i&&i.map((function(e){return Object(w.jsxs)("tr",{id:e.id,children:[Object(w.jsx)("td",{children:"".concat(e.first_name," ").concat(e.last_name)}),Object(w.jsx)("td",{children:e.email}),Object(w.jsx)("td",{children:e.mobile}),Object(w.jsx)("td",{children:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(m.a,{"aria-label":"delete",onClick:function(){return n(e,"edit")},children:Object(w.jsx)(A.a,{})}),Object(w.jsx)(m.a,{"aria-label":"delete",onClick:function(){return n(e,"delete")},children:Object(w.jsx)(I.a,{})})]})})]},e.id)}))})]})})},U=n(58),G="GET_PERSONS_BEGIN",q="GET_PERSONS_SUCCES",J="GET_PERSONS_FAILURE",M="ADD_PERSON_BEGIN",W="ADD_PERSON_SUCCES",V="ADD_PERSON_FAILURE",Y="EDIT_PERSON_BEGIN",H="EDIT_PERSON_SUCCES",K="EDIT_PERSON_FAILURE",Q="DELETE_PERSON_BEGIN",X="DELETE_PERSON_SUCCES",Z="DELETE_PERSON_FAILURE",$=n(157),ee=n(152),te=n(153),ne=n(154),ae=function(e){var t=e.isOpen,n=e.setOpen,a=e.loading,s=e.state,r=e.setState,i=e.handleAddPerson,c=e.currentPerson,o=e.handleEditPerson,l=e.editPersonLoading,d=function(e){var t=e.target,n=t.name,a=t.value;r(Object(O.a)(Object(O.a)({},s),{},Object(b.a)({},n,a)))};return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)($.a,{isOpen:t,toggle:function(){return n(!1)},size:"large",children:[Object(w.jsx)(ee.a,{children:"".concat(Object.keys(c).length>0?"Edit Product ":"Create Person ")}),Object(w.jsx)(te.a,{children:Object(w.jsx)("div",{className:"row",children:Object(w.jsx)("div",{className:"col-sm-12",children:Object(w.jsxs)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault();var t=s.firstName,n=s.lastName,a=s.email,r=s.mobile,l=s.password,d=s.id;if(t)if(n)if(0!==Object.keys(c).length||l)if(a)if(r){var j={};j.first_name=t,j.last_name=n,j.email=a,j.mobile=r,Object.keys(c).length>0?(j.id=d,o(j)):(j.password=l,i(j))}else E({message:"Please enter the mobile"});else E({message:"Please enter the email"});else E({message:"Please enter the password"});else E({message:"Please enter the last name"});else E({message:"Please enter the first name"})},children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("h5",{children:"First Name"}),Object(w.jsx)(p.a,{id:"outlined-basic",variant:"outlined",type:"text",name:"firstName",value:s.firstName,onChange:d,required:!0,style:{marginBottom:"25px",width:"100%"}})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("h5",{children:"Last Name"}),Object(w.jsx)(p.a,{id:"outlined-basic",variant:"outlined",type:"text",name:"lastName",value:s.lastName,onChange:d,required:!0,style:{marginBottom:"25px",width:"100%"}})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("h5",{children:"Email"}),Object(w.jsx)(p.a,{id:"outlined-basic",variant:"outlined",type:"email",name:"email",value:s.email,onChange:d,required:!0,style:{marginBottom:"25px",width:"100%"}})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("h5",{children:"Mobile"}),Object(w.jsx)(p.a,{id:"outlined-basic",variant:"outlined",type:"number",name:"mobile",value:s.mobile,onChange:d,required:!0,style:{marginBottom:"25px",width:"100%"}})]}),0===Object.keys(c).length&&Object(w.jsxs)("div",{children:[Object(w.jsx)("h5",{children:"Password"}),Object(w.jsx)(p.a,{id:"outlined-basic",variant:"outlined",type:"text",name:"password",value:s.password,onChange:d,required:!0,style:{marginBottom:"25px",width:"100%"}})]}),Object.keys(c).length>0?Object(w.jsx)("div",{className:"text-center",children:l?Object(w.jsxs)(ne.a,{color:"primary",children:[Object(w.jsx)("i",{className:"fa fa-spinner fa-spin",style:{fontSize:"20px",color:"white"}}),"...Loading"]}):Object(w.jsx)(ne.a,{color:"primary",children:"Edit Person"})}):Object(w.jsx)("div",{className:"text-center",children:a?Object(w.jsxs)(ne.a,{color:"primary",children:[Object(w.jsx)("i",{className:"fa fa-spinner fa-spin",style:{fontSize:"20px",color:"white"}}),"...Loading"]}):Object(w.jsx)(ne.a,{color:"primary",children:"Create Person"})})]})})})})]})})},se=n(88),re=function(e){var t=e.loading,n=e.children,a=Object(se.a)(e,["loading","children"]);return Object(w.jsx)(s.a.Fragment,{children:t?Object(w.jsx)("div",{className:"SpinnerOverlay",children:Object(w.jsx)("div",Object(O.a)({className:"SpinnerContainer"},a))}):Object(w.jsx)("div",{children:n})})},ie=function(e){var t=e.isOpen,n=e.setOpenDeleteModal,a=e.handleDelete;return Object(w.jsx)($.a,{isOpen:t,toggle:function(){return n(!1)},className:"delete__modal",children:Object(w.jsxs)(te.a,{className:"p-3",children:[Object(w.jsx)("div",{className:"row",children:Object(w.jsxs)("div",{className:"col-sm-12 text-center",children:[Object(w.jsx)("h4",{children:"Do You really want to delete this person .?"})," ",Object(w.jsx)("hr",{})]})}),Object(w.jsx)("div",{className:"row",children:Object(w.jsxs)("div",{className:"col-sm-12 text-center",children:[Object(w.jsx)(ne.a,{color:"primary",onClick:a,children:"Yes"}),Object(w.jsx)(ne.a,{color:"info",onClick:function(){return n(!1)},style:{marginLeft:"30px"},children:"No"})]})})]})})},ce=Object(U.b)((function(e,t){return{persons:e.persons.persons,history:t.history,loading:e.persons.loading,editPersonLoading:e.persons.editPersonLoading}}),(function(e){return{getPersonsBegin:function(t){return e({type:G})},getPersonsSuccess:function(t){return e(function(e){return{type:q,payload:e}}(t))},getPersonsFailure:function(t){return e({type:J,payload:t})},addPersonBegin:function(t){return e({type:M,payload:n});var n},addPersonSuccess:function(t){return e(function(e){return{type:W,payload:e}}(t))},addPersonFailure:function(t){return e(function(e){return{type:V,payload:e}}(t))},editPersonBegin:function(t){return e({type:Y,payload:n});var n},editPersonSuccess:function(t){return e(function(e){return{type:H,payload:e}}(t))},editPersonFailure:function(t){return e(function(e){return{type:K,payload:e}}(t))},deletePersonBegin:function(t){return e({type:Q})},deletePersonSuccess:function(t){return e(function(e){return{type:X,payload:e}}(t))},deletePersonFailure:function(t){return e(function(e){return{type:Z,payload:e}}(t))}}}))((function(e){var t=e.persons,n=e.getPersonsBegin,s=e.getPersonsSuccess,r=e.getPersonsFailure,i=e.addPersonBegin,c=e.addPersonSuccess,o=(e.addPersonFailure,e.editPersonBegin),l=e.editPersonSuccess,d=e.editPersonFailure,j=e.deletePersonBegin,u=e.deletePersonSuccess,b=(e.deletePersonFailure,e.history),p=e.loading,m=e.editPersonLoading,f=Object(a.useState)(!1),x=Object(h.a)(f,2),g=x[0],y=x[1],v=Object(a.useState)({}),P=Object(h.a)(v,2),N=P[0],S=P[1],E=Object(a.useState)(!1),C=Object(h.a)(E,2),_=C[0],L=C[1],k=Object(a.useState)({firstName:"",lastName:"",email:"",mobile:"",password:""}),D=Object(h.a)(k,2),F=D[0],B=D[1],I=function(){B(Object(O.a)(Object(O.a)({},F),{},{firstName:"",lastName:"",email:"",mobile:"",password:""})),S({})},R=function(){n(),fetch("http://api.vuetestapi.cobold.xyz/api/persons",{method:"GET",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){return s(e)})).catch((function(e){return r(e)}))};Object(a.useEffect)((function(){R()}),[]),Object(a.useEffect)((function(){N&&Object.keys(N).length>0&&B(Object(O.a)(Object(O.a)({},F),{},{firstName:N.first_name,lastName:N.last_name,email:N.email,mobile:N.mobile,id:N.id}))}),[N]);return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(T,{history:b}),Object(w.jsxs)("main",{children:[Object(w.jsx)("div",{className:"container",children:Object(w.jsx)("div",{className:"row",children:Object(w.jsx)("div",{className:"col-sm-12",children:Object(w.jsx)("div",{className:"card",style:{marginTop:"30px"},children:Object(w.jsxs)("div",{className:"card-body",children:[Object(w.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(w.jsx)("h4",{className:"card-title",children:"Persons List "}),Object(w.jsx)("button",{type:"button",className:"btn btn-info sign-out-button",onClick:function(){return y(!0)},children:"Create Person"})]}),Object(w.jsx)(re,{loading:p,children:Object(w.jsx)(z,{persons:t,getCurrentPerson:function(e,t){"edit"===t?(S(e),y(!0)):(S(e),L(!0))}})})]})})})})}),g&&Object(w.jsx)(ae,{isOpen:g,setOpen:y,loading:p,state:F,setState:B,handleAddPerson:function(e){i(),fetch("http://api.vuetestapi.cobold.xyz/api/persons",{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){c(e),y(!1),I(),R()}))},currentPerson:N,handleEditPerson:function(e){o(),fetch("http://api.vuetestapi.cobold.xyz/api/persons/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){l(e),y(!1),I(),R()})).catch((function(e){d(e),y(!1),I(),R()}))},editPersonLoading:m}),_&&Object(w.jsx)(ie,{isOpen:_,setOpenDeleteModal:L,handleDelete:function(){L(!1),j(),fetch("http://api.vuetestapi.cobold.xyz/api/persons/".concat(N.id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify(N)}).then((function(e){return e.json()})).then((function(e){u(e),y(!1),I(),R()}))}})]})]})}));var oe=function(){var e=Object(o.f)();return Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)(l.a,{}),Object(w.jsxs)(c.a,{history:e,children:[Object(w.jsx)(o.b,{path:"/",component:F}),Object(w.jsx)(o.b,{path:"/login",component:C}),Object(w.jsx)(o.b,{path:"/dashboard",component:ce})]})]})},le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,162)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),r(e),i(e)}))},de=n(29),je=n(67),ue={persons:[],currentPerson:{},loading:!1,editPersonLoading:!1,errors:{}};var be=Object(de.combineReducers)({persons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(O.a)(Object(O.a)({},e),{},{loading:!0});case q:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,persons:t.payload});case J:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,errors:t.payload});case M:return Object(O.a)(Object(O.a)({},e),{},{loading:!0});case W:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,persons:[].concat(Object(je.a)(e.persons),[t.payload])});case V:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,errors:t.payload});case Y:return Object(O.a)(Object(O.a)({},e),{},{editPersonLoading:!0});case H:return Object(O.a)(Object(O.a)({},e),{},{editPersonLoading:!1,persons:[].concat(Object(je.a)(e.persons),[t.payload])});case K:return Object(O.a)(Object(O.a)({},e),{},{editPersonLoading:!1,errors:t.payload});case Q:return Object(O.a)(Object(O.a)({},e),{},{loading:!0});case X:return Object(O.a)(Object(O.a)({},e),{},{loading:!1});case Z:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,errors:t.payload});default:return e}}}),Oe=n(84),he=n(85),pe=[Oe.a],me=Object(de.createStore)(be,{},Object(he.composeWithDevTools)(de.applyMiddleware.apply(void 0,pe)));i.a.render(Object(w.jsx)(s.a.StrictMode,{children:Object(w.jsx)(U.a,{store:me,children:Object(w.jsx)(oe,{})})}),document.getElementById("root")),le()}},[[119,1,2]]]);
//# sourceMappingURL=main.3bae10b3.chunk.js.map